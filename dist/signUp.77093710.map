{"version":3,"sources":["js\\signUp.js"],"names":["window","SignUp","template","data","promptVisible","signUpData","email","password","confirm","prompt","icon","info","methods","onSignUp","check","user","AV","User","setUsername","setPassword","setEmail","signUp","then","loggedInUser","$router","push","name","params","message","error","code","showPrompt","Vue","component"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAAA,OAAOC,MAAP,GAAgB;AACdC,u7CADc;AAiCdC,QAAM,gBAAY;AAChB,WAAO;AACLC,qBAAe,KADV;AAELC,kBAAY;AACVC,eAAO,EADG;AAEVC,kBAAU,EAFA;AAGVC,iBAAS;AAHC,OAFP;AAOLC,cAAQ;AACNC,cAAM,EADA;AAENC,cAAM;AAFA;AAPH,KAAP;AAYD,GA9Ca;AA+CdC,WAAS;AACPC,YADO,sBACI;AAAA;;AACT,UAAG,CAAC,KAAKC,KAAL,EAAJ,EAAiB;AAAC;AAAO;AACzB,UAAIC,OAAO,IAAIC,GAAGC,IAAP,EAAX;AACAF,WAAKG,WAAL,CAAiB,KAAKb,UAAL,CAAgBC,KAAjC;AACAS,WAAKI,WAAL,CAAiB,KAAKd,UAAL,CAAgBE,QAAjC;AACAQ,WAAKK,QAAL,CAAc,KAAKf,UAAL,CAAgBC,KAA9B;AACAS,WAAKM,MAAL,GAAcC,IAAd,CAAmB,UAACC,YAAD,EAAkB;AACnC,cAAKC,OAAL,CAAaC,IAAb,CAAkB,EAACC,MAAK,GAAN,EAAWC,QAAO,EAACC,SAAS,eAAV,EAA2BtB,OAAO,MAAKD,UAAL,CAAgBC,KAAlD,EAAyDC,UAAU,MAAKF,UAAL,CAAgBE,QAAnF,EAAlB,EAAlB;;AAEA;AACD,OAJD,EAIG,UAACsB,KAAD,EAAW;AACZ,YAAIA,MAAMC,IAAN,KAAe,GAAnB,EAAwB;AACtB,gBAAKC,UAAL,CAAgB,GAAhB,EAAqB,aAArB;AACD,SAFD,MAEO,IAAGF,MAAMC,IAAN,KAAe,GAAlB,EAAuB;AAC5B,gBAAKC,UAAL,CAAgB,GAAhB,EAAqB,aAArB;AACD;AACF,OAVD;AAWD,KAlBM;AAmBPjB,SAnBO,mBAmBA;AACL,UAAG,KAAKT,UAAL,CAAgBC,KAAhB,KAA0B,EAA7B,EAAgC;AAC9B,aAAKyB,UAAL,CAAgB,GAAhB,EAAqB,SAArB;AACA,eAAO,KAAP;AACD,OAHD,MAGO,IAAG,KAAK1B,UAAL,CAAgBE,QAAhB,KAA6B,EAAhC,EAAmC;AACxC,aAAKwB,UAAL,CAAgB,GAAhB,EAAqB,SAArB;AACA,eAAO,KAAP;AACD,OAHM,MAGC,IAAG,KAAK1B,UAAL,CAAgBG,OAAhB,KAA4B,EAA/B,EAAmC;AACzC,aAAKuB,UAAL,CAAgB,GAAhB,EAAqB,QAArB;AACA,eAAO,KAAP;AACD,OAHO,MAGD,IAAG,KAAK1B,UAAL,CAAgBE,QAAhB,KAA6B,KAAKF,UAAL,CAAgBG,OAAhD,EAAwD;AAC7D,aAAKuB,UAAL,CAAgB,GAAhB,EAAqB,eAArB;AACA,eAAO,KAAP;AACD;AACD,aAAO,IAAP;AACD,KAlCM;AAmCPA,cAnCO,sBAmCIrB,IAnCJ,EAmCUC,IAnCV,EAmCe;AACpB,WAAKF,MAAL,CAAYC,IAAZ,GAAmBA,IAAnB;AACA,WAAKD,MAAL,CAAYE,IAAZ,GAAmBA,IAAnB;AACA,WAAKP,aAAL,GAAqB,IAArB;AACD;AAvCM;AA/CK,CAAhB;AAyFA4B,IAAIC,SAAJ,CAAc,QAAd,EAAwBjC,OAAOqB,MAA/B","file":"signUp.77093710.map","sourceRoot":"..\\src","sourcesContent":["window.SignUp = {\n  template: `\n    <div class=\"signUp\">\n      <form @submit.prevent=\"onSignUp\" v-cloak>\n        <h2>简历编辑器</h2>\n        <p>New jobs, new lives</p>\n        <router-link class=\"close\" to=\"/\">x</router-link>\n        <div class=\"row\">\n          <label>邮箱</label>\n          <input placeholder=\"example@example.com\" type=\"text\" v-model=\"signUpData.email\" autocomplete=\"on\">\n        </div>\n        <div class=\"row\">\n          <label>密码</label>\n          <input placeholder=\"Enter password\" type=\"password\" v-model=\"signUpData.password\" autocomplete=\"on\">\n        </div>\n        <div class=\"row\">\n          <label>确认密码</label>\n          <input placeholder=\"Confirm your password\" type=\"password\" v-model=\"signUpData.confirm\" autocomplete=\"on\">\n        </div>\n        <div class=\"actions\">\n          <button type=\"submit\">注册</button>\n          <p>本网站暂不支持找回密码的功能，请牢记您的账号和密码哦</p>\n        </div>\n      </form>\n      <div class=\"toSignUp\">\n        已经有账户了？\n        <router-link to=\"/signIn\">登录</router-link>\n      </div>\n      <transition name=\"bounce\">\n        <prompt v-show=\"promptVisible\" v-bind:prompt=\"prompt\" @close-prompt=\"promptVisible = false\"></prompt>\n      </transition>\n    </div>\n  `,\n  data: function () {\n    return {\n      promptVisible: false,\n      signUpData: {\n        email: '',\n        password: '',\n        confirm: ''\n      },\n      prompt: {\n        icon: '',\n        info: '',\n      },\n    }\n  },\n  methods: {\n    onSignUp() {\n      if(!this.check()){return}\n      let user = new AV.User()\n      user.setUsername(this.signUpData.email)\n      user.setPassword(this.signUpData.password)\n      user.setEmail(this.signUpData.email)\n      user.signUp().then((loggedInUser) => {\n        this.$router.push({name:'/', params:{message: 'signUpSuccess', email: this.signUpData.email, password: this.signUpData.password}})\n\n        // this.$router.push({name:'/', params:{message:'signUpSuccess',userID:loggedInUser.id}})\n      }, (error) => {\n        if (error.code === 125) {\n          this.showPrompt('!', '请输入正确的邮箱地址！')\n        } else if(error.code === 203) {\n          this.showPrompt('✘', '此电子邮箱已经被占用！', )\n        }\n      })\n    },\n    check(){\n      if(this.signUpData.email === ''){\n        this.showPrompt('!', '邮箱不能为空！', )\n        return false\n      } else if(this.signUpData.password === ''){\n        this.showPrompt('!', '密码不能为空！')\n        return false\n      }  else if(this.signUpData.confirm === '') {\n        this.showPrompt('!', '请确认密码！')\n        return false\n      } else if(this.signUpData.password !== this.signUpData.confirm){\n        this.showPrompt('!', '请确保两次输入的密码一致！')\n        return false\n      }\n      return true\n    },\n    showPrompt(icon, info){\n      this.prompt.icon = icon\n      this.prompt.info = info\n      this.promptVisible = true\n    }\n  }\n}\nVue.component('signUp', window.signUp)"]}