{"version":3,"sources":["js\\signIn.js","C:\\Users\\16218\\AppData\\Roaming\\npm\\node_modules\\parcel-bundler\\lib\\builtins\\bundle-url.js","C:\\Users\\16218\\AppData\\Roaming\\npm\\node_modules\\parcel-bundler\\lib\\builtins\\css-loader.js"],"names":["window","SignIn","template","data","signInData","email","password","prompt","icon","info","promptVisible","methods","onSignIn","check","AV","User","logIn","then","loggedInUser","$router","push","name","params","message","error","code","showPrompt","Vue","component","signIn","bundleURL","getBundleURLCached","getBundleURL","Error","err","matches","stack","match","getBaseURL","url","replace","exports","bundle","require","updateLink","link","newLink","cloneNode","onload","remove","href","split","Date","now","parentNode","insertBefore","nextSibling","cssTimeout","reloadCSS","setTimeout","links","document","querySelectorAll","i","length","module"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA,IAAI8B,YAAY,IAAhB;AACA,SAASC,kBAAT,GAA8B;AAC5B,MAAI,CAACD,SAAL,EAAgB;AACdA,gBAAYE,cAAZ;AACD;;AAED,SAAOF,SAAP;AACD;;AAED,SAASE,YAAT,GAAwB;AACtB;AACA,MAAI;AACF,UAAM,IAAIC,KAAJ,EAAN;AACD,GAFD,CAEE,OAAOC,GAAP,EAAY;AACZ,QAAIC,UAAU,CAAC,KAAKD,IAAIE,KAAV,EAAiBC,KAAjB,CAAuB,gCAAvB,CAAd;AACA,QAAIF,OAAJ,EAAa;AACX,aAAOG,WAAWH,QAAQ,CAAR,CAAX,CAAP;AACD;AACF;;AAED,SAAO,GAAP;AACD;;AAED,SAASG,UAAT,CAAoBC,GAApB,EAAyB;AACvB,SAAO,CAAC,KAAKA,GAAN,EAAWC,OAAX,CAAmB,uCAAnB,EAA4D,IAA5D,IAAoE,GAA3E;AACD;;AAEDC,QAAQT,YAAR,GAAuBD,kBAAvB;AACAU,QAAQH,UAAR,GAAqBA,UAArB;;AC5BA,IAAII,SAASC,QAAQ,cAAR,CAAb;;AAEA,SAASC,UAAT,CAAoBC,IAApB,EAA0B;AACxB,MAAIC,UAAUD,KAAKE,SAAL,EAAd;AACAD,UAAQE,MAAR,GAAiB,YAAY;AAC3BH,SAAKI,MAAL;AACD,GAFD;AAGAH,UAAQI,IAAR,GAAeL,KAAKK,IAAL,CAAUC,KAAV,CAAgB,GAAhB,EAAqB,CAArB,IAA0B,GAA1B,GAAgCC,KAAKC,GAAL,EAA/C;AACAR,OAAKS,UAAL,CAAgBC,YAAhB,CAA6BT,OAA7B,EAAsCD,KAAKW,WAA3C;AACD;;AAED,IAAIC,aAAa,IAAjB;AACA,SAASC,SAAT,GAAqB;AACnB,MAAID,UAAJ,EAAgB;AACd;AACD;;AAEDA,eAAaE,WAAW,YAAY;AAClC,QAAIC,QAAQC,SAASC,gBAAT,CAA0B,wBAA1B,CAAZ;AACA,SAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIH,MAAMI,MAA1B,EAAkCD,GAAlC,EAAuC;AACrC,UAAIrB,OAAOJ,UAAP,CAAkBsB,MAAMG,CAAN,EAASb,IAA3B,MAAqCR,OAAOV,YAAP,EAAzC,EAAgE;AAC9DY,mBAAWgB,MAAMG,CAAN,CAAX;AACD;AACF;;AAEDN,iBAAa,IAAb;AACD,GATY,EASV,EATU,CAAb;AAUD;;AAEDQ,OAAOxB,OAAP,GAAiBiB,SAAjB;;;;;;;;;;AF7BA;;AAEA1D,OAAOC,MAAP,GAAgB;AACdC,gnCADc;AA6BdC,QAAM,gBAAY;AAChB,WAAO;AACLC,kBAAY;AACVC,eAAO,EADG;AAEVC,kBAAU;AAFA,OADP;AAKLC,cAAQ;AACNC,cAAM,EADA;AAENC,cAAM;AAFA,OALH;AASLC,qBAAe;AATV,KAAP;AAWD,GAzCa;AA0CdC,WAAS;AACPC,YADO,sBACI;AAAA;;AACT,UAAG,CAAC,KAAKC,KAAL,EAAJ,EAAiB;AAAC;AAAO;AACzBC,SAAGC,IAAH,CAAQC,KAAR,CAAc,KAAKZ,UAAL,CAAgBC,KAA9B,EAAqC,KAAKD,UAAL,CAAgBE,QAArD,EAA+DW,IAA/D,CAAoE,UAACC,YAAD,EAAkB;AACpF,cAAKC,OAAL,CAAaC,IAAb,CAAkB,EAACC,MAAK,GAAN,EAAWC,QAAO,EAACC,SAAS,eAAV,EAA2BlB,OAAM,MAAKD,UAAL,CAAgBC,KAAjD,EAAwDC,UAAS,MAAKF,UAAL,CAAgBE,QAAjF,EAAlB,EAAlB;AACD,OAFD,EAEG,UAACkB,KAAD,EAAW;AACZ,YAAIA,MAAMC,IAAN,KAAe,GAAnB,EAAwB;AACtB,gBAAKC,UAAL,CAAgB,GAAhB,EAAqB,QAArB;AACD,SAFD,MAEO,IAAIF,MAAMC,IAAN,IAAc,GAAlB,EAAuB;AAC5B,gBAAKC,UAAL,CAAgB,GAAhB,EAAqB,OAArB;AACD;AACF,OARD;AASD,KAZM;AAaPb,SAbO,mBAaA;AACL,UAAG,KAAKT,UAAL,CAAgBC,KAAhB,KAA0B,EAA7B,EAAgC;AAC9B,aAAKqB,UAAL,CAAgB,GAAhB,EAAqB,QAArB;AACA,eAAO,KAAP;AACD,OAHD,MAGO,IAAG,KAAKtB,UAAL,CAAgBE,QAAhB,KAA6B,EAAhC,EAAmC;AACxC,aAAKoB,UAAL,CAAgB,GAAhB,EAAqB,QAArB;AACA,eAAO,KAAP;AACD;AACD,aAAO,IAAP;AACD,KAtBM;AAuBPA,cAvBO,sBAuBIlB,IAvBJ,EAuBUC,IAvBV,EAuBe;AACpB,WAAKF,MAAL,CAAYC,IAAZ,GAAmBA,IAAnB;AACA,WAAKD,MAAL,CAAYE,IAAZ,GAAmBA,IAAnB;AACA,WAAKC,aAAL,GAAqB,IAArB;AACD;AA3BM;;AA+BX;AAzEgB,CAAhB,CA0EAiB,IAAIC,SAAJ,CAAc,QAAd,EAAwB5B,OAAO6B,MAA/B","file":"signIn.da32d3cb.map","sourceRoot":"..\\src","sourcesContent":["import '../css/signIn.css'\n\nwindow.SignIn = {\n  template: `\n    <div class=\"signIn\" v-cloak>\n      <form @submit.prevent=\"onSignIn\">\n        <h2>简历编辑器</h2>\n        <p>New jobs, new lives</p>\n        <router-link class=\"close\" to=\"/\">x</router-link>\n        <div class=\"row\">\n          <label>邮箱</label>\n          <input placeholder=\"example@example.com\" type=\"text\" v-model=\"signInData.email\" autocomplete=\"on\">\n        </div>\n        <div class=\"row\">\n          <label>密码</label>\n          <input placeholder=\"Enter password\" type=\"password\" v-model=\"signInData.password\" autocomplete=\"on\">\n        </div>\n        <div class=\"actions\">\n          <button type=\"submit\">登录</button>\n          <p>We'll never share your email with anyone else.</p>\n        </div>\n      </form>\n      <div class=\"toSignUp\">\n        还没有账户？\n        <router-link to=\"/signUp\">注册</router-link>\n      </div>\n      <transition name=\"bounce\">\n        <prompt v-show=\"promptVisible\" v-bind:prompt=\"prompt\" @close-prompt=\"promptVisible = false\"></prompt>\n      </transition>\n    </div>\n  `,\n  data: function () {\n    return {\n      signInData: {\n        email: '',\n        password: ''\n      },\n      prompt: {\n        icon: '',\n        info: '',\n      },\n      promptVisible: false,\n    }\n  },\n  methods: {\n    onSignIn() {\n      if(!this.check()){return}\n      AV.User.logIn(this.signInData.email, this.signInData.password).then((loggedInUser) => {\n        this.$router.push({name:'/', params:{message: 'signInSuccess', email:this.signInData.email, password:this.signInData.password}})\n      }, (error) => {\n        if (error.code === 211) {\n          this.showPrompt('✘', '邮箱不存在！')\n        } else if (error.code == 210) {\n          this.showPrompt('✘', '密码错误！')\n        }\n      })\n    },\n    check(){\n      if(this.signInData.email === ''){\n        this.showPrompt('!', '请填写邮箱！')\n        return false\n      } else if(this.signInData.password === ''){\n        this.showPrompt('!', '请填写密码！')\n        return false\n      }\n      return true\n    },\n    showPrompt(icon, info){\n      this.prompt.icon = icon\n      this.prompt.info = info\n      this.promptVisible = true\n    }\n  }\n}\n\n// html规范，标签不能有大写，因此写成sign-in\nVue.component('signIn', window.signIn)","var bundleURL = null;\nfunction getBundleURLCached() {\n  if (!bundleURL) {\n    bundleURL = getBundleURL();\n  }\n\n  return bundleURL;\n}\n\nfunction getBundleURL() {\n  // Attempt to find the URL of the current script and use that as the base URL\n  try {\n    throw new Error;\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n    if (matches) {\n      return getBaseURL(matches[0]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\n","var bundle = require('./bundle-url');\n\nfunction updateLink(link) {\n  var newLink = link.cloneNode();\n  newLink.onload = function () {\n    link.remove();\n  };\n  newLink.href = link.href.split('?')[0] + '?' + Date.now();\n  link.parentNode.insertBefore(newLink, link.nextSibling);\n}\n\nvar cssTimeout = null;\nfunction reloadCSS() {\n  if (cssTimeout) {\n    return;\n  }\n\n  cssTimeout = setTimeout(function () {\n    var links = document.querySelectorAll('link[rel=\"stylesheet\"]');\n    for (var i = 0; i < links.length; i++) {\n      if (bundle.getBaseURL(links[i].href) === bundle.getBundleURL()) {\n        updateLink(links[i]);\n      }\n    }\n\n    cssTimeout = null;\n  }, 50);\n}\n\nmodule.exports = reloadCSS;\n"]}